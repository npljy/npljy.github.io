<!DOCTYPE html><html lang="zh-CN" data-dark><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="format-detection" content="telephone=no"><meta name="description" content="å‰ç«¯æ¬ç –å¤§è€ï¼Œå†™å†™æ¬ç –é‚£äº›äº‹å„¿"><meta name="msvalidate.01" content="0FE4D8B3381D3D87088996B886E1E2BD"><meta name="google-adsense-account" content="ca-pub-8385136408348258"><meta name="keywords" content="å‰ç«¯å£¹èœé¸Ÿ, HTML,CSS,JavaScript,ES6+,Sass,Less,Stylus,PostCSS,BEM,TailwindCSS,Bootstrap,React,Vue.js,Angular,Svelte,TypeScript,Vite,Webpack,npm,Yarn,pnpm,Redux,Zustand,Pinia,ReactRouter,VueRouter,ESLint,Prettier,Git,Node.js,ReactNative,Flutter,Electron,Next.js,Nuxt.js,Micro-frontends,WebAssembly,PWA,Three.js,å‰ç«¯,æŠ€æœ¯åšå®¢,è½¬è½½,FrontEnd"><title>è½»æ¾ç†è§£webpackçƒ­æ›´æ–°åŸç† | å‰ç«¯å£¹èœé¸Ÿ</title><link rel="stylesheet" type="text/css" href="/css/normalize.min.css"><link rel="stylesheet" type="text/css" href="/css/pure-min.min.css"><link rel="stylesheet" type="text/css" href="/css/grids-responsive-min.css"><link rel="stylesheet" type="text/css" href="/css/font-awesome.min.css"><link rel="stylesheet" type="text/css" href="/css/style.css"><link rel="icon" mask="" sizes="any" href="/img/blog.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/img/blog.ico"><link rel="apple-touch-icon" href="/img/blog.png"><link rel="apple-touch-icon-precomposed" href="/img/blog.png"><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/isPhone.js"></script><script type="text/javascript" src="/js/fixedPage.jm.js"></script><script type="text/javascript" src="/js/check.js"></script><link rel="alternate" type="application/atom+xml" href="/atom.xml"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8385136408348258"></script><script>(function(){
  const bp = document.createElement('script');
  const curProtocol = window.location.protocol.split(':')[0];
  if (curProtocol === 'https'){
    bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else{
    bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
  document.head.append(bp)
})();
</script><script async src="https://jspassport.ssl.qhimg.com/11.0.1.js?d182b3f28525f2db83acfaaf6e696dba"></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-ETCMPGS7S6"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);};gtag('js',new Date());gtag('config','G-ETCMPGS7S6');
</script><script async src="https://hm.baidu.com/hm.js?011f0b44e8452bfa57fbfa23c5fe7683"></script><script charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js"></script><script>LA.init({id: 'JkUaixMjOhC8emNs', ck: 'JkUaixMjOhC8emNs', autoTrack:true})
</script><script type="application/ld+json">{
  "@context": "https://schema.org",
  "keywords": "HTML,CSS,JavaScript,ES6+,Sass,Less,Stylus,PostCSS,BEM,TailwindCSS,Bootstrap,React,Vue.js,Angular,Svelte,TypeScript,Vite,Webpack,npm,Yarn,pnpm,Redux,Zustand,Pinia,ReactRouter,VueRouter,ESLint,Prettier,Git,Node.js,ReactNative,Flutter,Electron,Next.js,Nuxt.js,Micro-frontends,WebAssembly,PWA,Three.js,å‰ç«¯,æŠ€æœ¯åšå®¢",
  "description": "å‰ç«¯æ¬ç –å¤§è€ï¼Œå†™å†™æ¬ç –é‚£äº›äº‹å„¿",
  "operatingSystem": "Any",
  "permissions": "browser",
  "author": {
    "@type": "Person",
    "name": "å‰ç«¯å£¹èœé¸Ÿ"
  },
  "@graph": [{
    "@type": "WebSite",
    "name": "å‰ç«¯å£¹èœé¸Ÿ",
    "url": "https://xuehuayu.cn",
  }, {
    "@type": "WebSite",
    "name": "å‰ç«¯å£¹èœé¸Ÿ",
    "url": "https://cainiaoblog.cn",
  }, ]
}</script><meta name="generator" content="Hexo 8.1.1"></head><body><div class="body_container"><div id="webtraf_17015" style="width:100%;display:flex;justify-content: center;"><script src="https://webtrafic.ru/ads.php?uid=17015" async></script></div><div id="header"><div class="site-name"><a id="logo" href="/.">å‰ç«¯å£¹èœé¸Ÿ</a><p class="description">å…³æ³¨å‰ç«¯çŸ¥è¯†ï¼Œæ”¶é›†ç²¾å½©åšæ–‡ï¼ŒåšæŠ€æœ¯çš„æ¬è¿å·¥</p></div><div id="nav-menu"><a class="current" id="" href="/." target="_self"><i class="fa fa-home"> é¦–é¡µ</i></a><a id="" href="/archives/" target="_self"><i class="fa fa-archive"> å½’æ¡£</i></a><a id="" href="/guestbook/" target="_self"><i class="fa fa-comments"> ç•™è¨€</i></a><a id="" href="https://afdian.com/a/big_old/thank" target="_self"><i class="fa fa-group"> æ„Ÿè°¢</i></a><a id="" href="/love/" target="_self"><i class="fa fa-heart"> LOVE</i></a><a id="area" href="/area" target="_self" style="display:none;"><i class="fa fa-internet-explorer"> Area</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title c-post">è½»æ¾ç†è§£webpackçƒ­æ›´æ–°åŸç†</h1><div class="post-meta"><span class="date">2019-12-05</span><span> | </span><span class="reproduce">è½¬è½½ </span><span> | </span><span class="category"><a href="/categories/%E5%89%8D%E7%AB%AF/">å‰ç«¯ </a><a href="/categories/FrontEnd/">FrontEnd </a></span><span class="post-time"><span class="post-meta-item-text"> | </span><span class="post-meta-item-icon"><i class="fa fa-keyboard-o"></i><span class="post-count"> 4.3k</span><span class="post-meta-item-text"> å­—</span></span></span><span class="post-time"> | <span class="post-meta-item-icon"><i class="fa fa-hourglass-half"></i><span class="post-count"> 16</span><span class="post-meta-item-text"> åˆ†é’Ÿ</span></span></span></div><a class="disqus-comment-count" href="/article/c767da51.html#waline-comment"><span class="waline-comment-count" data-path="/article/c767da51.html">0</span><span> æ¡è¯„è®º</span></a><div class="post-content"><p><code>åŸæ–‡åœ°å€ï¼šhttps://juejin.im/post/5de0cfe46fb9a071665d3df0</code></p>
<blockquote>
<p>&#96;Hot Module</p>
</blockquote>
<p>Replacement<code>ï¼Œç®€ç§°</code>HMR<code>ï¼Œæ— éœ€å®Œå…¨åˆ·æ–°æ•´ä¸ªé¡µé¢çš„åŒæ—¶ï¼Œæ›´æ–°æ¨¡å—ã€‚</code>HMR&#96;çš„å¥½å¤„ï¼Œåœ¨æ—¥å¸¸å¼€å‘å·¥ä½œä¸­ä½“ä¼šé¢‡æ·±ï¼š<strong>èŠ‚çœå®è´µçš„å¼€å‘æ—¶é—´ã€æå‡å¼€å‘ä½“éªŒ</strong>ã€‚</p>
<span id="more"></span>

<h2 id="ä¸€ã€å‰è¨€-webpackçƒ­æ›´æ–°"><a href="#ä¸€ã€å‰è¨€-webpackçƒ­æ›´æ–°" class="headerlink" title="ä¸€ã€å‰è¨€ - webpackçƒ­æ›´æ–°"></a>ä¸€ã€å‰è¨€ - webpackçƒ­æ›´æ–°</h2><blockquote>
<p>&#96;Hot Module</p>
</blockquote>
<p>Replacement<code>ï¼Œç®€ç§°</code>HMR<code>ï¼Œæ— éœ€å®Œå…¨åˆ·æ–°æ•´ä¸ªé¡µé¢çš„åŒæ—¶ï¼Œæ›´æ–°æ¨¡å—ã€‚</code>HMR&#96;çš„å¥½å¤„ï¼Œåœ¨æ—¥å¸¸å¼€å‘å·¥ä½œä¸­ä½“ä¼šé¢‡æ·±ï¼š<strong>èŠ‚çœå®è´µçš„å¼€å‘æ—¶é—´ã€æå‡å¼€å‘ä½“éªŒ</strong>ã€‚</p>
<p>åˆ·æ–°æˆ‘ä»¬ä¸€èˆ¬åˆ†ä¸ºä¸¤ç§ï¼š</p>
<ul>
<li>ä¸€ç§æ˜¯é¡µé¢åˆ·æ–°ï¼Œä¸ä¿ç•™é¡µé¢çŠ¶æ€ï¼Œå°±æ˜¯ç®€å•ç²—æš´ï¼Œç›´æ¥<code>window.location.reload()</code>ã€‚</li>
<li>å¦ä¸€ç§æ˜¯åŸºäº&#96;WDS</li>
</ul>
<p>(Webpack-dev-server)&#96;çš„æ¨¡å—çƒ­æ›¿æ¢ï¼Œåªéœ€è¦å±€éƒ¨åˆ·æ–°é¡µé¢ä¸Šå‘ç”Ÿå˜åŒ–çš„æ¨¡å—ï¼ŒåŒæ—¶å¯ä»¥ä¿ç•™å½“å‰çš„é¡µé¢çŠ¶æ€ï¼Œæ¯”å¦‚å¤é€‰æ¡†çš„é€‰ä¸­çŠ¶æ€ã€è¾“å…¥æ¡†çš„è¾“å…¥ç­‰ã€‚</p>
<p><code>HMR</code>ä½œä¸ºä¸€ä¸ª<code>Webpack</code>å†…ç½®çš„åŠŸèƒ½ï¼Œå¯ä»¥é€šè¿‡<code>HotModuleReplacementPlugin</code>æˆ–<code>--hot</code>å¼€å¯ã€‚é‚£ä¹ˆï¼Œ<code>HMR</code>åˆ°åº•æ˜¯æ€ä¹ˆå®ç°çƒ­æ›´æ–°çš„å‘¢ï¼Ÿä¸‹é¢è®©æˆ‘ä»¬æ¥äº†è§£ä¸€ä¸‹å§ï¼</p>
<h2 id="äºŒã€webpackçš„ç¼–è¯‘æ„å»ºè¿‡ç¨‹"><a href="#äºŒã€webpackçš„ç¼–è¯‘æ„å»ºè¿‡ç¨‹" class="headerlink" title="äºŒã€webpackçš„ç¼–è¯‘æ„å»ºè¿‡ç¨‹"></a>äºŒã€webpackçš„ç¼–è¯‘æ„å»ºè¿‡ç¨‹</h2><p>é¡¹ç›®å¯åŠ¨åï¼Œè¿›è¡Œæ„å»ºæ‰“åŒ…ï¼Œæ§åˆ¶å°ä¼šè¾“å‡ºæ„å»ºè¿‡ç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥è§‚å¯Ÿåˆ°ç”Ÿæˆäº†ä¸€ä¸ª <strong>Hashå€¼</strong>ï¼š<code>a93fd735d02d98633356</code>ã€‚</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/12/1/16ec043909c70b12?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="é¦–æ¬¡æ„å»ºæ§åˆ¶å°è¾“å‡ºæ—¥å¿—"></p>
<p>ç„¶åï¼Œåœ¨æˆ‘ä»¬æ¯æ¬¡ä¿®æ”¹ä»£ç ä¿å­˜åï¼Œæ§åˆ¶å°éƒ½ä¼šå‡ºç° <code>Compilingâ€¦</code>å­—æ ·ï¼Œè§¦å‘æ–°çš„ç¼–è¯‘ä¸­â€¦å¯ä»¥åœ¨æ§åˆ¶å°ä¸­è§‚å¯Ÿåˆ°ï¼š</p>
<ul>
<li><strong>æ–°çš„Hashå€¼</strong>ï¼š<code>a61bdd6e82294ed06fa3</code></li>
<li><strong>æ–°çš„jsonæ–‡ä»¶</strong>ï¼š <code>a93fd735d02d98633356.hot-update.json</code></li>
<li><strong>æ–°çš„jsæ–‡ä»¶</strong>ï¼š<code>index.a93fd735d02d98633356.hot-update.js</code></li>
</ul>
<p><img src="https://user-gold-cdn.xitu.io/2019/12/1/16ec04454e1167f7?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="ä¿®æ”¹ä»£ç çš„ç¼–è¯‘æ—¥å¿—"></p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬çŸ¥é“<code>Hash</code>å€¼ä»£è¡¨æ¯ä¸€æ¬¡ç¼–è¯‘çš„æ ‡è¯†ã€‚å…¶æ¬¡ï¼Œæ ¹æ®æ–°ç”Ÿæˆæ–‡ä»¶åå¯ä»¥å‘ç°ï¼Œä¸Šæ¬¡è¾“å‡ºçš„<code>Hash</code>å€¼ä¼šä½œä¸ºæœ¬æ¬¡ç¼–è¯‘æ–°ç”Ÿæˆçš„æ–‡ä»¶æ ‡è¯†ã€‚ä¾æ¬¡ç±»æ¨ï¼Œæœ¬æ¬¡è¾“å‡ºçš„<code>Hash</code>å€¼ä¼šè¢«ä½œä¸ºä¸‹æ¬¡çƒ­æ›´æ–°çš„æ ‡è¯†ã€‚</p>
<p>ç„¶åçœ‹ä¸€ä¸‹ï¼Œæ–°ç”Ÿæˆçš„æ–‡ä»¶æ˜¯ä»€ä¹ˆï¼Ÿæ¯æ¬¡ä¿®æ”¹ä»£ç ï¼Œç´§æ¥ç€è§¦å‘é‡æ–°ç¼–è¯‘ï¼Œç„¶åæµè§ˆå™¨å°±ä¼šå‘å‡º 2 æ¬¡è¯·æ±‚ã€‚è¯·æ±‚çš„ä¾¿æ˜¯æœ¬æ¬¡æ–°ç”Ÿæˆçš„ 2 ä¸ªæ–‡ä»¶ã€‚å¦‚ä¸‹ï¼š</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/12/1/16ec04289af752da?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="æµè§ˆå™¨è¯·æ±‚"></p>
<p>é¦–å…ˆçœ‹<code>json</code>æ–‡ä»¶ï¼Œè¿”å›çš„ç»“æœä¸­ï¼Œ<code>h</code>ä»£è¡¨æœ¬æ¬¡æ–°ç”Ÿæˆçš„<code>Hash</code>å€¼ï¼Œç”¨äºä¸‹æ¬¡æ–‡ä»¶çƒ­æ›´æ–°è¯·æ±‚çš„å‰ç¼€ã€‚<code>c</code>è¡¨ç¤ºå½“å‰è¦çƒ­æ›´æ–°çš„æ–‡ä»¶å¯¹åº”çš„æ˜¯<code>index</code>æ¨¡å—ã€‚<br>å†çœ‹ä¸‹ç”Ÿæˆçš„<code>js</code>æ–‡ä»¶ï¼Œé‚£å°±æ˜¯æœ¬æ¬¡ä¿®æ”¹çš„ä»£ç ï¼Œé‡æ–°ç¼–è¯‘æ‰“åŒ…åçš„ã€‚</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/12/1/16ec04316d6ac5e3?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="xuehuayu.cn"></p>
<p>è¿˜æœ‰ä¸€ç§æƒ…å†µæ˜¯ï¼Œå¦‚æœæ²¡æœ‰ä»»ä½•ä»£ç æ”¹åŠ¨ï¼Œç›´æ¥ä¿å­˜æ–‡ä»¶ï¼Œæ§åˆ¶å°ä¹Ÿä¼šè¾“å‡ºç¼–è¯‘æ‰“åŒ…ä¿¡æ¯çš„ã€‚</p>
<ul>
<li><strong>æ–°çš„Hashå€¼</strong>ï¼š<code>d2e4208eca62aa1c5389</code></li>
<li><strong>æ–°çš„jsonæ–‡ä»¶</strong>ï¼š<code>a61bdd6e82294ed06fa3.hot-update.json</code></li>
</ul>
<p><img src="https://user-gold-cdn.xitu.io/2019/12/1/16ec04bd0d47eae4?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="xuehuayu.cn"></p>
<p>ä½†æ˜¯æˆ‘ä»¬å‘ç°ï¼Œå¹¶æ²¡æœ‰ç”Ÿæˆæ–°çš„<code>js</code>æ–‡ä»¶ï¼Œå› ä¸ºæ²¡æœ‰æ”¹åŠ¨ä»»ä½•ä»£ç ï¼ŒåŒæ—¶æµè§ˆå™¨å‘å‡ºçš„è¯·æ±‚ï¼Œå¯ä»¥çœ‹åˆ°<code>c</code>å€¼ä¸ºç©ºï¼Œä»£è¡¨æœ¬æ¬¡æ²¡æœ‰éœ€è¦æ›´æ–°çš„ä»£ç ã€‚</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/12/1/16ec04c7b158cb3b?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="xuehuayu.cn"></p>
<p>å°å£°è¯´ä¸‹ï¼Œ<code>webapck</code>ä»¥å‰çš„ç‰ˆæœ¬è¿™ç§æƒ…å†µ<code>hash</code>å€¼æ˜¯ä¸ä¼šå˜çš„ï¼Œåé¢å¯èƒ½å‡ºäºä»€ä¹ˆåŸå› æ”¹ç‰ˆäº†ã€‚ç»†èŠ‚ä¸ç”¨åœ¨æ„ï¼Œäº†è§£åŸç†æ‰æ˜¯çœŸè°›!!!</p>
<p>æœ€åæ€è€ƒä¸‹ğŸ¤”ï¼Œæµè§ˆå™¨æ˜¯å¦‚ä½•çŸ¥é“æœ¬åœ°ä»£ç é‡æ–°ç¼–è¯‘äº†ï¼Œå¹¶è¿…é€Ÿè¯·æ±‚äº†æ–°ç”Ÿæˆçš„æ–‡ä»¶ï¼Ÿæ˜¯è°å‘ŠçŸ¥äº†æµè§ˆå™¨ï¼Ÿæµè§ˆå™¨è·å¾—è¿™äº›æ–‡ä»¶åˆæ˜¯å¦‚ä½•çƒ­æ›´æ–°æˆåŠŸçš„ï¼Ÿé‚£è®©æˆ‘ä»¬å¸¦ç€ç–‘é—®çœ‹ä¸‹çƒ­æ›´æ–°çš„è¿‡ç¨‹ï¼Œä»æºç çš„è§’åº¦çœ‹åŸç†ã€‚</p>
<h2 id="ä¸‰ã€çƒ­æ›´æ–°å®ç°åŸç†"><a href="#ä¸‰ã€çƒ­æ›´æ–°å®ç°åŸç†" class="headerlink" title="ä¸‰ã€çƒ­æ›´æ–°å®ç°åŸç†"></a>ä¸‰ã€çƒ­æ›´æ–°å®ç°åŸç†</h2><p>ç›¸ä¿¡å¤§å®¶éƒ½ä¼šé…ç½®<code>webpack-dev-server</code>çƒ­æ›´æ–°ï¼Œæˆ‘å°±ä¸ç¤ºæ„ä¾‹å­äº†ã€‚è‡ªå·±ç½‘ä¸ŠæŸ¥ä¸‹å³å¯ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥çœ‹ä¸‹<code>webpack-dev-server</code>æ˜¯å¦‚ä½•å®ç°çƒ­æ›´æ–°çš„ï¼Ÿï¼ˆæºç éƒ½æ˜¯ç²¾ç®€è¿‡çš„ï¼Œç¬¬ä¸€è¡Œä¼šæ³¨æ˜ä»£ç è·¯å¾„ï¼Œçœ‹å®Œæœ€å¥½ç»“åˆæºç é£Ÿç”¨ä¸€æ¬¡ï¼‰ã€‚</p>
<h3 id="1-webpack-dev-serverå¯åŠ¨æœ¬åœ°æœåŠ¡"><a href="#1-webpack-dev-serverå¯åŠ¨æœ¬åœ°æœåŠ¡" class="headerlink" title="1. webpack-dev-serverå¯åŠ¨æœ¬åœ°æœåŠ¡"></a>1. webpack-dev-serverå¯åŠ¨æœ¬åœ°æœåŠ¡</h3><p>æˆ‘ä»¬æ ¹æ®<code>webpack-dev-server</code>çš„<code>package.json</code>ä¸­çš„<code>bin</code>å‘½ä»¤ï¼Œå¯ä»¥æ‰¾åˆ°å‘½ä»¤çš„å…¥å£æ–‡ä»¶<code>bin/webpack-dev-server.js</code>ã€‚</p>
<pre><code>// node_modules/webpack-dev-server/bin/webpack-dev-server.js// ç”Ÿæˆwebpackç¼–è¯‘ä¸»å¼•æ“ compilerlet compiler = webpack(config);

// å¯åŠ¨æœ¬åœ°æœåŠ¡let server = new Server(compiler, options, log);
server.listen(options.port, options.host, (err) =&gt; {
    if (err) {throw err};
});
</code></pre>
<p>æœ¬åœ°æœåŠ¡ä»£ç ï¼š</p>
<pre><code>// node_modules/webpack-dev-server/lib/Server.jsclassServer{
    constructor() {
        this.setupApp();
        this.createServer();
    }

    setupApp() {
        // ä¾èµ–äº†expressthis.app = new express();
    }

    createServer() {
        this.listeningApp = http.createServer(this.app);
    }
    listen(port, hostname, fn) {
        returnthis.listeningApp.listen(port, hostname, (err) =&gt; {
            // å¯åŠ¨expressæœåŠ¡åï¼Œå¯åŠ¨websocketæœåŠ¡this.createSocketServer();
        }
    }
}
</code></pre>
<p>è¿™ä¸€å°èŠ‚ä»£ç ä¸»è¦åšäº†ä¸‰ä»¶äº‹ï¼š</p>
<ul>
<li>å¯åŠ¨<code>webpack</code>ï¼Œç”Ÿæˆ<code>compiler</code>å®ä¾‹ã€‚<code>compiler</code>ä¸Šæœ‰å¾ˆå¤šæ–¹æ³•ï¼Œæ¯”å¦‚å¯ä»¥å¯åŠ¨ <code>webpack</code></li>
</ul>
<p>æ‰€æœ‰<strong>ç¼–è¯‘</strong>å·¥ä½œï¼Œä»¥åŠ<strong>ç›‘å¬</strong>æœ¬åœ°æ–‡ä»¶çš„å˜åŒ–ã€‚</p>
<ul>
<li><p>ä½¿ç”¨<code>express</code>æ¡†æ¶å¯åŠ¨æœ¬åœ°<code>server</code>ï¼Œè®©æµè§ˆå™¨å¯ä»¥è¯·æ±‚æœ¬åœ°çš„<strong>é™æ€èµ„æº</strong>ã€‚</p>
</li>
<li></li>
</ul>
<p>æœ¬åœ°<code>server</code>å¯åŠ¨ä¹‹åï¼Œå†å»å¯åŠ¨<code>websocket</code>æœåŠ¡ï¼Œå¦‚æœä¸äº†è§£<code>websocket</code>ï¼Œå»ºè®®ç®€å•äº†è§£ä¸€ä¸‹<a target="_blank" rel="noopener" href="https://www.ruanyifeng.com/blog/2017/05/websocket.html">websocketé€Ÿæˆ</a>ã€‚é€šè¿‡<code>websocket</code>ï¼Œå¯ä»¥å»ºç«‹æœ¬åœ°æœåŠ¡å’Œæµè§ˆå™¨çš„åŒå‘é€šä¿¡ã€‚è¿™æ ·å°±å¯ä»¥å®ç°å½“æœ¬åœ°æ–‡ä»¶å‘ç”Ÿå˜åŒ–ï¼Œç«‹é©¬å‘ŠçŸ¥æµè§ˆå™¨å¯ä»¥çƒ­æ›´æ–°ä»£ç å•¦ï¼</p>
<p>ä¸Šè¿°ä»£ç ä¸»è¦å¹²äº†ä¸‰ä»¶äº‹ï¼Œä½†æ˜¯æºç åœ¨å¯åŠ¨æœåŠ¡å‰åˆåšäº†å¾ˆå¤šäº‹ï¼Œæ¥ä¸‹æ¥ä¾¿çœ‹çœ‹<code>webpack-dev-server/lib/Server.js</code>è¿˜åšäº†å“ªäº›äº‹ï¼Ÿ</p>
<h3 id="2-ä¿®æ”¹webpack-config-jsçš„entryé…ç½®"><a href="#2-ä¿®æ”¹webpack-config-jsçš„entryé…ç½®" class="headerlink" title="2. ä¿®æ”¹webpack.config.jsçš„entryé…ç½®"></a>2. ä¿®æ”¹webpack.config.jsçš„entryé…ç½®</h3><p>å¯åŠ¨æœ¬åœ°æœåŠ¡å‰ï¼Œè°ƒç”¨äº†<code>updateCompiler(this.compiler)</code>æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•ä¸­æœ‰ 2<br>æ®µå…³é”®æ€§ä»£ç ã€‚ä¸€ä¸ªæ˜¯è·å–<code>websocket</code>å®¢æˆ·ç«¯ä»£ç è·¯å¾„ï¼Œå¦ä¸€ä¸ªæ˜¯æ ¹æ®é…ç½®è·å–<code>webpack</code>çƒ­æ›´æ–°ä»£ç è·¯å¾„ã€‚</p>
<pre><code>// è·å–websocketå®¢æˆ·ç«¯ä»£ç const clientEntry = `${require.resolve(
    &#39;../../client/&#39;
)}?${domain}${sockHost}${sockPath}${sockPort}`;

// æ ¹æ®é…ç½®è·å–çƒ­æ›´æ–°ä»£ç let hotEntry;
if (options.hotOnly) {
    hotEntry = require.resolve(&#39;webpack/hot/only-dev-server&#39;);
} elseif (options.hot) {
    hotEntry = require.resolve(&#39;webpack/hot/dev-server&#39;);
}
</code></pre>
<p>ä¿®æ”¹åçš„<code>webpack</code>å…¥å£é…ç½®å¦‚ä¸‹ï¼š</p>
<pre><code>// ä¿®æ”¹åçš„entryå…¥å£
{ entry:
    { index:
        [
            // ä¸Šé¢è·å–çš„clientEntry&#39;xxx/node_modules/webpack-dev-server/client/index.js?http://localhost:8080&#39;,
            // ä¸Šé¢è·å–çš„hotEntry&#39;xxx/node_modules/webpack/hot/dev-server.js&#39;,
            // å¼€å‘é…ç½®çš„å…¥å£&#39;./src/index.js&#39;
      ],
    },
}
</code></pre>
<p>ä¸ºä»€ä¹ˆè¦æ–°å¢äº† 2 ä¸ªæ–‡ä»¶ï¼Ÿåœ¨å…¥å£é»˜é»˜å¢åŠ äº† 2 ä¸ªæ–‡ä»¶ï¼Œé‚£å°±æ„å‘³ä¼šä¸€åŒæ‰“åŒ…åˆ°<code>bundle</code>æ–‡ä»¶ä¸­å»ï¼Œä¹Ÿå°±æ˜¯çº¿ä¸Šè¿è¡Œæ—¶ã€‚</p>
<p><strong>ï¼ˆ1ï¼‰webpack-dev-server&#x2F;client&#x2F;index.js</strong></p>
<p>é¦–å…ˆè¿™ä¸ªæ–‡ä»¶ç”¨äº<code>websocket</code>çš„ï¼Œå› ä¸º<code>websoket</code>æ˜¯åŒå‘é€šä¿¡ï¼Œå¦‚æœä¸äº†è§£<code>websocket</code>ï¼Œå»ºè®®ç®€å•äº†è§£ä¸€ä¸‹<a target="_blank" rel="noopener" href="https://www.ruanyifeng.com/blog/2017/05/websocket.html">websocketé€Ÿæˆ</a>ã€‚æˆ‘ä»¬åœ¨ç¬¬<br>1 æ­¥ <code>webpack-dev-server</code>åˆå§‹åŒ–<br>çš„è¿‡ç¨‹ä¸­ï¼Œå¯åŠ¨çš„æ˜¯æœ¬åœ°æœåŠ¡ç«¯çš„<code>websocket</code>ã€‚é‚£å®¢æˆ·ç«¯ä¹Ÿå°±æ˜¯æˆ‘ä»¬çš„æµè§ˆå™¨ï¼Œæµè§ˆå™¨è¿˜æ²¡æœ‰å’ŒæœåŠ¡ç«¯é€šä¿¡çš„ä»£ç å‘¢ï¼Ÿæ€»ä¸èƒ½è®©å¼€å‘è€…å»å†™å§hhhhhhã€‚å› æ­¤æˆ‘ä»¬éœ€è¦æŠŠ<code>websocket</code>å®¢æˆ·ç«¯é€šä¿¡ä»£ç å·å·å¡åˆ°æˆ‘ä»¬çš„ä»£ç ä¸­ã€‚å®¢æˆ·ç«¯å…·ä½“çš„ä»£ç åé¢ä¼šåœ¨åˆé€‚çš„æ—¶æœºç»†è®²å“¦ã€‚</p>
<p><strong>ï¼ˆ2ï¼‰webpack&#x2F;hot&#x2F;dev-server.js</strong></p>
<p>è¿™ä¸ªæ–‡ä»¶ä¸»è¦æ˜¯ç”¨äºæ£€æŸ¥æ›´æ–°é€»è¾‘çš„ï¼Œè¿™é‡Œå¤§å®¶çŸ¥é“å°±å¥½ï¼Œä»£ç åé¢ä¼šåœ¨åˆé€‚çš„æ—¶æœºï¼ˆ<strong>ç¬¬5æ­¥</strong>ï¼‰ç»†è®²ã€‚</p>
<h3 id="3-ç›‘å¬webpackç¼–è¯‘ç»“æŸ"><a href="#3-ç›‘å¬webpackç¼–è¯‘ç»“æŸ" class="headerlink" title="3. ç›‘å¬webpackç¼–è¯‘ç»“æŸ"></a>3. ç›‘å¬webpackç¼–è¯‘ç»“æŸ</h3><p>ä¿®æ”¹å¥½å…¥å£é…ç½®åï¼Œåˆè°ƒç”¨äº†<code>setupHooks</code>æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•æ˜¯ç”¨æ¥æ³¨å†Œç›‘å¬äº‹ä»¶çš„ï¼Œç›‘å¬æ¯æ¬¡<code>webpack</code>ç¼–è¯‘å®Œæˆã€‚</p>
<pre><code>// node_modules/webpack-dev-server/lib/Server.js// ç»‘å®šç›‘å¬äº‹ä»¶
setupHooks() {
    const {done} = compiler.hooks;
    // ç›‘å¬webpackçš„doneé’©å­ï¼Œtapableæä¾›çš„ç›‘å¬æ–¹æ³•
    done.tap(&#39;webpack-dev-server&#39;, (stats) =&gt; {
        this._sendStats(this.sockets, this.getStats(stats));
        this._stats = stats;
    });
};
</code></pre>
<p>å½“ç›‘å¬åˆ°ä¸€æ¬¡<code>webpack</code>ç¼–è¯‘ç»“æŸï¼Œå°±ä¼šè°ƒç”¨<code>_sendStats</code>æ–¹æ³•é€šè¿‡<code>websocket</code>ç»™æµè§ˆå™¨å‘é€é€šçŸ¥ï¼Œ<code>ok</code>å’Œ<code>hash</code>äº‹ä»¶ï¼Œè¿™æ ·æµè§ˆå™¨å°±å¯ä»¥æ‹¿åˆ°æœ€æ–°çš„<code>hash</code>å€¼äº†ï¼Œåšæ£€æŸ¥æ›´æ–°é€»è¾‘ã€‚</p>
<pre><code>// é€šè¿‡websoketç»™å®¢æˆ·ç«¯å‘æ¶ˆæ¯
_sendStats() {
    this.sockWrite(sockets, &#39;hash&#39;, stats.hash);
    this.sockWrite(sockets, &#39;ok&#39;);
}
</code></pre>
<h3 id="4-webpackç›‘å¬æ–‡ä»¶å˜åŒ–"><a href="#4-webpackç›‘å¬æ–‡ä»¶å˜åŒ–" class="headerlink" title="4. webpackç›‘å¬æ–‡ä»¶å˜åŒ–"></a>4. webpackç›‘å¬æ–‡ä»¶å˜åŒ–</h3><p>æ¯æ¬¡ä¿®æ”¹ä»£ç ï¼Œå°±ä¼šè§¦å‘ç¼–è¯‘ã€‚è¯´æ˜æˆ‘ä»¬è¿˜éœ€è¦ç›‘å¬æœ¬åœ°ä»£ç çš„å˜åŒ–ï¼Œä¸»è¦æ˜¯é€šè¿‡<code>setupDevMiddleware</code>æ–¹æ³•å®ç°çš„ã€‚</p>
<p>è¿™ä¸ªæ–¹æ³•ä¸»è¦æ‰§è¡Œäº†<code>webpack-dev-middleware</code>åº“ã€‚å¾ˆå¤šäººåˆ†ä¸æ¸…<code>webpack-dev-middleware</code>å’Œ<code>webpack-dev-server</code>çš„åŒºåˆ«ã€‚å…¶å®å°±æ˜¯å› ä¸º<code>webpack-dev-server</code>åªè´Ÿè´£å¯åŠ¨æœåŠ¡å’Œå‰ç½®å‡†å¤‡å·¥ä½œï¼Œæ‰€æœ‰æ–‡ä»¶ç›¸å…³çš„æ“ä½œéƒ½æŠ½ç¦»åˆ°<code>webpack-dev-middleware</code>åº“äº†ï¼Œä¸»è¦æ˜¯æœ¬åœ°æ–‡ä»¶çš„<strong>ç¼–è¯‘</strong>å’Œ<strong>è¾“å‡º</strong>ä»¥åŠ<strong>ç›‘å¬</strong>ï¼Œæ— éå°±æ˜¯èŒè´£çš„åˆ’åˆ†æ›´æ¸…æ™°äº†ã€‚</p>
<p>é‚£æˆ‘ä»¬æ¥çœ‹ä¸‹<code>webpack-dev-middleware</code>æºç é‡Œåšäº†ä»€ä¹ˆäº‹:</p>
<pre><code>// node_modules/webpack-dev-middleware/index.js
compiler.watch(options.watchOptions, (err) =&gt; {
    if (err) { /*é”™è¯¯å¤„ç†*/ }
});

// é€šè¿‡â€œmemory-fsâ€åº“å°†æ‰“åŒ…åçš„æ–‡ä»¶å†™å…¥å†…å­˜
setFs(context, compiler);
</code></pre>
<p>ï¼ˆ1ï¼‰è°ƒç”¨äº†<code>compiler.watch</code>æ–¹æ³•ï¼Œåœ¨ç¬¬ 1 æ­¥ä¸­ä¹Ÿæåˆ°è¿‡ï¼Œ<code>compiler</code>çš„å¼ºå¤§ã€‚è¿™ä¸ªæ–¹æ³•ä¸»è¦å°±åšäº† 2 ä»¶äº‹ï¼š</p>
<ul>
<li>é¦–å…ˆå¯¹æœ¬åœ°æ–‡ä»¶ä»£ç è¿›è¡Œç¼–è¯‘æ‰“åŒ…ï¼Œä¹Ÿå°±æ˜¯<code>webpack</code>çš„ä¸€ç³»åˆ—ç¼–è¯‘æµç¨‹ã€‚</li>
<li>å…¶æ¬¡ç¼–è¯‘ç»“æŸåï¼Œå¼€å¯å¯¹æœ¬åœ°æ–‡ä»¶çš„ç›‘å¬ï¼Œå½“æ–‡ä»¶å‘ç”Ÿå˜åŒ–ï¼Œé‡æ–°ç¼–è¯‘ï¼Œç¼–è¯‘å®Œæˆä¹‹åç»§ç»­ç›‘å¬ã€‚</li>
</ul>
<p>ä¸ºä»€ä¹ˆä»£ç çš„æ”¹åŠ¨ä¿å­˜ä¼šè‡ªåŠ¨ç¼–è¯‘ï¼Œé‡æ–°æ‰“åŒ…ï¼Ÿè¿™ä¸€ç³»åˆ—çš„é‡æ–°æ£€æµ‹ç¼–è¯‘å°±å½’åŠŸäº<code>compiler.watch</code>è¿™ä¸ªæ–¹æ³•äº†ã€‚ç›‘å¬æœ¬åœ°æ–‡ä»¶çš„å˜åŒ–ä¸»è¦æ˜¯é€šè¿‡<strong>æ–‡ä»¶çš„ç”Ÿæˆæ—¶é—´</strong>æ˜¯å¦æœ‰å˜åŒ–ï¼Œè¿™é‡Œå°±ä¸ç»†è®²äº†ã€‚</p>
<p>ï¼ˆ2ï¼‰æ‰§è¡Œ<code>setFs</code>æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•ä¸»è¦ç›®çš„å°±æ˜¯å°†ç¼–è¯‘åçš„æ–‡ä»¶æ‰“åŒ…åˆ°å†…å­˜ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆåœ¨å¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œä½ ä¼šå‘ç°<code>dist</code>ç›®å½•æ²¡æœ‰æ‰“åŒ…åçš„ä»£ç ï¼Œå› ä¸ºéƒ½åœ¨å†…å­˜ä¸­ã€‚åŸå› å°±åœ¨äºè®¿é—®å†…å­˜ä¸­çš„ä»£ç æ¯”è®¿é—®æ–‡ä»¶ç³»ç»Ÿä¸­çš„æ–‡ä»¶æ›´å¿«ï¼Œè€Œä¸”ä¹Ÿå‡å°‘äº†ä»£ç å†™å…¥æ–‡ä»¶çš„å¼€é”€ï¼Œè¿™ä¸€åˆ‡éƒ½å½’åŠŸäº<code>memory-fs</code>ã€‚</p>
<h3 id="5-æµè§ˆå™¨æ¥æ”¶åˆ°çƒ­æ›´æ–°çš„é€šçŸ¥"><a href="#5-æµè§ˆå™¨æ¥æ”¶åˆ°çƒ­æ›´æ–°çš„é€šçŸ¥" class="headerlink" title="5. æµè§ˆå™¨æ¥æ”¶åˆ°çƒ­æ›´æ–°çš„é€šçŸ¥"></a>5. æµè§ˆå™¨æ¥æ”¶åˆ°çƒ­æ›´æ–°çš„é€šçŸ¥</h3><p>æˆ‘ä»¬å·²ç»å¯ä»¥ç›‘å¬åˆ°æ–‡ä»¶çš„å˜åŒ–äº†ï¼Œå½“æ–‡ä»¶å‘ç”Ÿå˜åŒ–ï¼Œå°±è§¦å‘é‡æ–°ç¼–è¯‘ã€‚åŒæ—¶è¿˜ç›‘å¬äº†æ¯æ¬¡ç¼–è¯‘ç»“æŸçš„äº‹ä»¶ã€‚å½“ç›‘å¬åˆ°ä¸€æ¬¡<code>webpack</code>ç¼–è¯‘ç»“æŸï¼Œ<code>_sendStats</code>æ–¹æ³•å°±é€šè¿‡<code>websoket</code>ç»™æµè§ˆå™¨å‘é€é€šçŸ¥ï¼Œæ£€æŸ¥ä¸‹æ˜¯å¦éœ€è¦çƒ­æ›´æ–°ã€‚ä¸‹é¢é‡ç‚¹è®²çš„å°±æ˜¯<code>_sendStats</code>æ–¹æ³•ä¸­çš„<code>ok</code>å’Œ<code>hash</code>äº‹ä»¶éƒ½åšäº†ä»€ä¹ˆã€‚</p>
<p>é‚£æµè§ˆå™¨æ˜¯å¦‚ä½•æ¥æ”¶åˆ°<code>websocket</code>çš„æ¶ˆæ¯å‘¢ï¼Ÿå›å¿†ä¸‹ç¬¬ 2 æ­¥éª¤å¢åŠ çš„å…¥å£æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯<code>websocket</code>å®¢æˆ·ç«¯ä»£ç ã€‚</p>
<pre><code>&#39;xxx/node_modules/webpack-dev-server/client/index.js?http://localhost:8080&#39;
</code></pre>
<p>è¿™ä¸ªæ–‡ä»¶çš„ä»£ç ä¼šè¢«æ‰“åŒ…åˆ°<code>bundle.js</code>ä¸­ï¼Œè¿è¡Œåœ¨æµè§ˆå™¨ä¸­ã€‚æ¥çœ‹ä¸‹è¿™ä¸ªæ–‡ä»¶çš„æ ¸å¿ƒä»£ç å§ã€‚</p>
<pre><code>// webpack-dev-server/client/index.jsvar socket = require(&#39;./socket&#39;);
var onSocketMessage = {
    hash: functionhash(_hash) {
        // æ›´æ–°currentHashå€¼
        status.currentHash = _hash;
    },
    ok: functionok() {
        sendMessage(&#39;Ok&#39;);
        // è¿›è¡Œæ›´æ–°æ£€æŸ¥ç­‰æ“ä½œ
        reloadApp(options, status);
    },
};
// è¿æ¥æœåŠ¡åœ°å€socketUrlï¼Œ?http://localhost:8080ï¼Œæœ¬åœ°æœåŠ¡åœ°å€
socket(socketUrl, onSocketMessage);

functionreloadApp() {
  if (hot) {
        log.info(&#39;[WDS] App hot update...&#39;);

        // hotEmitterå…¶å®å°±æ˜¯EventEmitterçš„å®ä¾‹var hotEmitter = require(&#39;webpack/hot/emitter&#39;);
        hotEmitter.emit(&#39;webpackHotUpdate&#39;, currentHash);
    }
}
</code></pre>
<p><code>socket</code>æ–¹æ³•å»ºç«‹äº†<code>websocket</code>å’ŒæœåŠ¡ç«¯çš„è¿æ¥ï¼Œå¹¶æ³¨å†Œäº† 2 ä¸ªç›‘å¬äº‹ä»¶ã€‚</p>
<ul>
<li><code>hash</code>äº‹ä»¶ï¼Œæ›´æ–°æœ€æ–°ä¸€æ¬¡æ‰“åŒ…åçš„<code>hash</code>å€¼ã€‚</li>
<li><code>ok</code>äº‹ä»¶ï¼Œè¿›è¡Œçƒ­æ›´æ–°æ£€æŸ¥ã€‚</li>
</ul>
<p>çƒ­æ›´æ–°æ£€æŸ¥äº‹ä»¶æ˜¯è°ƒç”¨<code>reloadApp</code>æ–¹æ³•ã€‚æ¯”è¾ƒå¥‡æ€ªçš„æ˜¯ï¼Œè¿™ä¸ªæ–¹æ³•åˆåˆ©ç”¨<code>node.js</code>çš„<code>EventEmitter</code>ï¼Œå‘å‡º<code>webpackHotUpdate</code>æ¶ˆæ¯ã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆä¸ç›´æ¥è¿›è¡Œæ£€æŸ¥æ›´æ–°å‘¢ï¼Ÿ</p>
<p>ä¸ªäººç†è§£å°±æ˜¯ä¸ºäº†æ›´å¥½çš„ç»´æŠ¤ä»£ç ï¼Œä»¥åŠèŒè´£åˆ’åˆ†çš„æ›´æ˜ç¡®ã€‚<code>websocket</code>ä»…ä»…ç”¨äºå®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰å’ŒæœåŠ¡ç«¯è¿›è¡Œé€šä¿¡ã€‚è€ŒçœŸæ­£åšäº‹æƒ…çš„æ´»è¿˜æ˜¯äº¤å›ç»™äº†<code>webpack</code>ã€‚</p>
<p>é‚£<code>webpack</code>æ€ä¹ˆåšçš„å‘¢ï¼Ÿå†æ¥å›å¿†ä¸‹ç¬¬ 2 æ­¥ã€‚å…¥å£æ–‡ä»¶è¿˜æœ‰ä¸€ä¸ªæ–‡ä»¶æ²¡æœ‰è®²åˆ°ï¼Œå°±æ˜¯ï¼š</p>
<pre><code>&#39;xxx/node_modules/webpack/hot/dev-server.js&#39;
</code></pre>
<p>è¿™ä¸ªæ–‡ä»¶çš„ä»£ç åŒæ ·ä¼šè¢«æ‰“åŒ…åˆ°<code>bundle.js</code>ä¸­ï¼Œè¿è¡Œåœ¨æµè§ˆå™¨ä¸­ã€‚è¿™ä¸ªæ–‡ä»¶åšäº†ä»€ä¹ˆå°±æ˜¾è€Œæ˜“è§äº†å§ï¼å…ˆç„ä¸€çœ¼ä»£ç ï¼š</p>
<pre><code>// node_modules/webpack/hot/dev-server.jsvar check = functioncheck() {
    module.hot.check(true)
        .then(function(updatedModules) {
            // å®¹é”™ï¼Œç›´æ¥åˆ·æ–°é¡µé¢if (!updatedModules) {
                window.location.reload();
                return;
            }

            // çƒ­æ›´æ–°ç»“æŸï¼Œæ‰“å°ä¿¡æ¯if (upToDate()) {
                log(&quot;info&quot;, &quot;[HMR] App is up to date.&quot;);
            }
    })
        .catch(function(err) {
            window.location.reload();
        });
};

var hotEmitter = require(&quot;./emitter&quot;);
hotEmitter.on(&quot;webpackHotUpdate&quot;, function(currentHash) {
    lastHash = currentHash;
    check();
});
</code></pre>
<p>è¿™é‡Œ<code>webpack</code>ç›‘å¬åˆ°äº†<code>webpackHotUpdate</code>äº‹ä»¶ï¼Œå¹¶è·å–æœ€æ–°äº†æœ€æ–°çš„<code>hash</code>å€¼ï¼Œç„¶åç»ˆäºè¿›è¡Œæ£€æŸ¥æ›´æ–°äº†ã€‚æ£€æŸ¥æ›´æ–°å‘¢è°ƒç”¨çš„æ˜¯<code>module.hot.check</code>æ–¹æ³•ã€‚é‚£ä¹ˆé—®é¢˜åˆæ¥äº†ï¼Œ<code>module.hot.check</code>åˆæ˜¯å“ªé‡Œå†’å‡ºæ¥äº†çš„ï¼ç­”æ¡ˆæ˜¯<code>HotModuleReplacementPlugin</code>æå¾—é¬¼ã€‚è¿™é‡Œç•™ä¸ªç–‘é—®ï¼Œç»§ç»­å¾€ä¸‹çœ‹ã€‚</p>
<h3 id="6-HotModuleReplacementPlugin"><a href="#6-HotModuleReplacementPlugin" class="headerlink" title="6. HotModuleReplacementPlugin"></a>6. HotModuleReplacementPlugin</h3><p>å‰é¢å¥½åƒä¸€ç›´æ˜¯<code>webpack-dev-server</code>åšçš„äº‹ï¼Œé‚£<code>HotModuleReplacementPlugin</code>åœ¨çƒ­æ›´æ–°è¿‡ç¨‹ä¸­åˆåšäº†ä»€ä¹ˆä¼Ÿå¤§çš„äº‹ä¸šå‘¢ï¼Ÿ</p>
<p>é¦–å…ˆä½ å¯ä»¥å¯¹æ¯”ä¸‹ï¼Œé…ç½®çƒ­æ›´æ–°å’Œä¸é…ç½®æ—¶<code>bundle.js</code>çš„åŒºåˆ«ã€‚å†…å­˜ä¸­çœ‹ä¸åˆ°ï¼Ÿç›´æ¥æ‰§è¡Œ<code>webpack</code>å‘½ä»¤å°±å¯ä»¥çœ‹åˆ°ç”Ÿæˆçš„<code>bundle.js</code>æ–‡ä»¶å•¦ã€‚ä¸è¦ç”¨<code>webpack-dev-server</code>å¯åŠ¨å°±å¥½äº†ã€‚</p>
<p>ï¼ˆ1ï¼‰æ²¡æœ‰é…ç½®çš„ã€‚</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/12/1/16ec0c9e8fd12349?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="xuehuayu.cn"></p>
<p>ï¼ˆ2ï¼‰é…ç½®äº†<code>HotModuleReplacementPlugin</code>æˆ–<code>--hot</code>çš„ã€‚</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/12/1/16ec0c90092fa0ac?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="xuehuayu.cn"></p>
<p>å“¦~ æˆ‘ä»¬å‘ç°<code>moudle</code>æ–°å¢äº†ä¸€ä¸ªå±æ€§ä¸º<code>hot</code>ï¼Œå†çœ‹<code>hotCreateModule</code>æ–¹æ³•ã€‚<br>è¿™ä¸å°±æ‰¾åˆ°<code>module.hot.check</code>æ˜¯å“ªé‡Œå†’å‡ºæ¥çš„ã€‚</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/12/1/16ec0dc36018973f?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="xuehuayu.cn"></p>
<p>ç»è¿‡å¯¹æ¯”æ‰“åŒ…åçš„æ–‡ä»¶ï¼Œ<code>__webpack_require__</code>ä¸­çš„<code>moudle</code>ä»¥åŠä»£ç è¡Œæ•°çš„ä¸åŒã€‚æˆ‘ä»¬éƒ½å¯ä»¥å‘ç°<code>HotModuleReplacementPlugin</code>åŸæ¥ä¹Ÿæ˜¯é»˜é»˜çš„å¡äº†å¾ˆå¤šä»£ç åˆ°<code>bundle.js</code>ä¸­å‘€ã€‚è¿™å’Œç¬¬<br>2 æ­¥éª¤å¾ˆæ˜¯ç›¸ä¼¼å“¦ï¼ä¸ºä»€ä¹ˆï¼Œå› ä¸ºæ£€æŸ¥æ›´æ–°æ˜¯åœ¨æµè§ˆå™¨ä¸­æ“ä½œå‘€ã€‚è¿™äº›ä»£ç å¿…é¡»åœ¨è¿è¡Œæ—¶çš„ç¯å¢ƒã€‚</p>
<p>ä½ ä¹Ÿå¯ä»¥ç›´æ¥çœ‹æµè§ˆå™¨<code>Sources</code>ä¸‹çš„ä»£ç ï¼Œä¼šå‘ç°<code>webpack</code>å’Œ<code>plugin</code>å·å·åŠ çš„ä»£ç éƒ½åœ¨å“¦ã€‚åœ¨è¿™é‡Œè°ƒè¯•ä¹Ÿå¾ˆæ–¹ä¾¿ã€‚</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/12/1/16ec0d4634af2b3c?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="xuehuayu.cn"><code>HotModuleReplacementPlugin</code>å¦‚ä½•åšåˆ°çš„ï¼Ÿè¿™é‡Œæˆ‘å°±ä¸è®²äº†ï¼Œå› ä¸ºè¿™éœ€è¦ä½ å¯¹<code>tapable</code>ä»¥åŠ<code>plugin</code>æœºåˆ¶æœ‰ä¸€å®šäº†è§£ï¼Œå¯ä»¥çœ‹ä¸‹æˆ‘å†™çš„æ–‡ç« <a target="_blank" rel="noopener" href="https://juejin.im/post/5dc169b0f265da4d542092c6">Webpackæ’ä»¶æœºåˆ¶ä¹‹Tapable-æºç è§£æ</a>ã€‚å½“ç„¶ä½ ä¹Ÿå¯ä»¥é€‰æ‹©è·³è¿‡ï¼Œåªå…³å¿ƒçƒ­æ›´æ–°æœºåˆ¶å³å¯ï¼Œæ¯•ç«Ÿä¿¡æ¯é‡å¤ªå¤§ã€‚</p>
<h3 id="7-moudle-hot-check-å¼€å§‹çƒ­æ›´æ–°"><a href="#7-moudle-hot-check-å¼€å§‹çƒ­æ›´æ–°" class="headerlink" title="7. moudle.hot.check å¼€å§‹çƒ­æ›´æ–°"></a>7. moudle.hot.check å¼€å§‹çƒ­æ›´æ–°</h3><p>é€šè¿‡ç¬¬ 6<br>æ­¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥çŸ¥é“<code>moudle.hot.check</code>æ–¹æ³•æ˜¯å¦‚ä½•æ¥çš„å•¦ã€‚é‚£éƒ½åšäº†ä»€ä¹ˆï¼Ÿä¹‹åçš„æºç éƒ½æ˜¯<code>HotModuleReplacementPlugin</code>å¡å…¥åˆ°<code>bundle.js</code>ä¸­çš„å“¦ï¼Œæˆ‘å°±ä¸å†™æ–‡ä»¶è·¯å¾„äº†ã€‚</p>
<ul>
<li><p>åˆ©ç”¨ä¸Šä¸€æ¬¡ä¿å­˜çš„<code>hash</code>å€¼ï¼Œè°ƒç”¨<code>hotDownloadManifest</code>å‘é€<code>xxx/hash.hot-update.json</code>çš„<code>ajax</code>è¯·æ±‚ï¼›</p>
</li>
<li><p>è¯·æ±‚ç»“æœè·å–çƒ­æ›´æ–°æ¨¡å—ï¼Œä»¥åŠä¸‹æ¬¡çƒ­æ›´æ–°çš„<code>Hash</code> æ ‡è¯†ï¼Œå¹¶è¿›å…¥çƒ­æ›´æ–°å‡†å¤‡é˜¶æ®µã€‚</p>
<p>  hotAvailableFilesMap &#x3D; update.c; &#x2F;&#x2F; éœ€è¦æ›´æ–°çš„æ–‡ä»¶<br>  hotUpdateNewHash &#x3D; update.h; &#x2F;&#x2F; æ›´æ–°ä¸‹æ¬¡çƒ­æ›´æ–°hashå€¼<br>  hotSetStatus(â€œprepareâ€); &#x2F;&#x2F; è¿›å…¥çƒ­æ›´æ–°å‡†å¤‡çŠ¶æ€</p>
</li>
<li><p>è°ƒç”¨<code>hotDownloadUpdateChunk</code>å‘é€<code>xxx/hash.hot-update.js</code> è¯·æ±‚ï¼Œé€šè¿‡<code>JSONP</code>æ–¹å¼ã€‚</p>
<p>  functionhotDownloadUpdateChunk(chunkId) {<br>  var script &#x3D; document.createElement(â€œscriptâ€);<br>  script.charset &#x3D; â€œutf-8â€;<br>  script.src &#x3D; <strong>webpack_require</strong>.p + â€œâ€ + chunkId + â€œ.â€ + hotCurrentHash + â€œ.hot-update.jsâ€;<br>  if (null) script.crossOrigin &#x3D; null;<br>  document.head.appendChild(script);<br>}</p>
</li>
</ul>
<p>è¿™ä¸ªå‡½æ•°ä½“ä¸ºä»€ä¹ˆè¦å•ç‹¬æ‹¿å‡ºæ¥ï¼Œå› ä¸ºè¿™é‡Œè¦è§£é‡Šä¸‹ä¸ºä»€ä¹ˆä½¿ç”¨<code>JSONP</code>è·å–æœ€æ–°ä»£ç ï¼Ÿä¸»è¦æ˜¯å› ä¸º<code>JSONP</code>è·å–çš„ä»£ç å¯ä»¥ç›´æ¥æ‰§è¡Œã€‚ä¸ºä»€ä¹ˆè¦ç›´æ¥æ‰§è¡Œï¼Ÿæˆ‘ä»¬æ¥å›å¿†ä¸‹<code>/hash.hot-update.js</code>çš„ä»£ç æ ¼å¼æ˜¯æ€ä¹ˆæ ·çš„ã€‚</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/12/1/16ec04316d6ac5e3?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="xuehuayu.cn"></p>
<p>å¯ä»¥å‘ç°ï¼Œæ–°ç¼–è¯‘åçš„ä»£ç æ˜¯åœ¨ä¸€ä¸ª<code>webpackHotUpdate</code>å‡½æ•°ä½“å†…éƒ¨çš„ã€‚ä¹Ÿå°±æ˜¯è¦ç«‹å³æ‰§è¡Œ<code>webpackHotUpdate</code>è¿™ä¸ªæ–¹æ³•ã€‚</p>
<p>å†çœ‹ä¸‹<code>webpackHotUpdate</code>è¿™ä¸ªæ–¹æ³•ã€‚</p>
<pre><code>window[&quot;webpackHotUpdate&quot;] = function (chunkId, moreModules) {
    hotAddUpdateChunk(chunkId, moreModules);
} ;
</code></pre>
<ul>
<li><p><code>hotAddUpdateChunk</code>æ–¹æ³•ä¼šæŠŠæ›´æ–°çš„æ¨¡å—<code>moreModules</code>èµ‹å€¼ç»™å…¨å±€å…¨é‡<code>hotUpdate</code>ã€‚</p>
</li>
<li><p><code>hotUpdateDownloaded</code>æ–¹æ³•ä¼šè°ƒç”¨<code>hotApply</code>è¿›è¡Œä»£ç çš„æ›¿æ¢ã€‚</p>
<p>  functionhotAddUpdateChunk(chunkId, moreModules) {<br>  &#x2F;&#x2F; æ›´æ–°çš„æ¨¡å—moreModulesèµ‹å€¼ç»™å…¨å±€å…¨é‡hotUpdatefor (var moduleId in moreModules) {<br>      if (Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {<br>    hotUpdate[moduleId] &#x3D; moreModules[moduleId];<br>      }<br>  }<br>  &#x2F;&#x2F; è°ƒç”¨hotApplyè¿›è¡Œæ¨¡å—çš„æ›¿æ¢<br>  hotUpdateDownloaded();<br>  }</p>
</li>
</ul>
<h3 id="8-hotApply-çƒ­æ›´æ–°æ¨¡å—æ›¿æ¢"><a href="#8-hotApply-çƒ­æ›´æ–°æ¨¡å—æ›¿æ¢" class="headerlink" title="8. hotApply çƒ­æ›´æ–°æ¨¡å—æ›¿æ¢"></a>8. hotApply çƒ­æ›´æ–°æ¨¡å—æ›¿æ¢</h3><p>çƒ­æ›´æ–°çš„æ ¸å¿ƒé€»è¾‘å°±åœ¨<code>hotApply</code>æ–¹æ³•äº†ã€‚<br><code>hotApply</code>ä»£ç æœ‰å°†è¿‘ 400 è¡Œï¼Œè¿˜æ˜¯æŒ‘é‡ç‚¹è®²äº†ï¼Œçœ‹å“­ğŸ˜­</p>
<h4 id="â‘ åˆ é™¤è¿‡æœŸçš„æ¨¡å—ï¼Œå°±æ˜¯éœ€è¦æ›¿æ¢çš„æ¨¡å—"><a href="#â‘ åˆ é™¤è¿‡æœŸçš„æ¨¡å—ï¼Œå°±æ˜¯éœ€è¦æ›¿æ¢çš„æ¨¡å—" class="headerlink" title="â‘ åˆ é™¤è¿‡æœŸçš„æ¨¡å—ï¼Œå°±æ˜¯éœ€è¦æ›¿æ¢çš„æ¨¡å—"></a>â‘ åˆ é™¤è¿‡æœŸçš„æ¨¡å—ï¼Œå°±æ˜¯éœ€è¦æ›¿æ¢çš„æ¨¡å—</h4><p>é€šè¿‡<code>hotUpdate</code>å¯ä»¥æ‰¾åˆ°æ—§æ¨¡å—</p>
<pre><code>var queue = outdatedModules.slice();
while (queue.length &gt; 0) {
    moduleId = queue.pop();
    // ä»ç¼“å­˜ä¸­åˆ é™¤è¿‡æœŸçš„æ¨¡å—module = installedModules[moduleId];
    // åˆ é™¤è¿‡æœŸçš„ä¾èµ–delete outdatedDependencies[moduleId];

    // å­˜å‚¨äº†è¢«åˆ æ‰çš„æ¨¡å—idï¼Œä¾¿äºæ›´æ–°ä»£ç 
    outdatedSelfAcceptedModules.push({
        module: moduleId
    });
}
</code></pre>
<h4 id="â‘¡å°†æ–°çš„æ¨¡å—æ·»åŠ åˆ°-modules-ä¸­"><a href="#â‘¡å°†æ–°çš„æ¨¡å—æ·»åŠ åˆ°-modules-ä¸­" class="headerlink" title="â‘¡å°†æ–°çš„æ¨¡å—æ·»åŠ åˆ° modules ä¸­"></a>â‘¡å°†æ–°çš„æ¨¡å—æ·»åŠ åˆ° modules ä¸­</h4><pre><code>appliedUpdate[moduleId] = hotUpdate[moduleId];
for (moduleId in appliedUpdate) {
    if (Object.prototype.hasOwnProperty.call(appliedUpdate, moduleId)) {
        modules[moduleId] = appliedUpdate[moduleId];
    }
}
</code></pre>
<h4 id="â‘¢é€šè¿‡-webpack-require-æ‰§è¡Œç›¸å…³æ¨¡å—çš„ä»£ç "><a href="#â‘¢é€šè¿‡-webpack-require-æ‰§è¡Œç›¸å…³æ¨¡å—çš„ä»£ç " class="headerlink" title="â‘¢é€šè¿‡__webpack_require__æ‰§è¡Œç›¸å…³æ¨¡å—çš„ä»£ç "></a>â‘¢é€šè¿‡__webpack_require__æ‰§è¡Œç›¸å…³æ¨¡å—çš„ä»£ç </h4><pre><code>for (i = 0; i &lt; outdatedSelfAcceptedModules.length; i++) {
    var item = outdatedSelfAcceptedModules[i];
    moduleId = item.module;
    try {
        // æ‰§è¡Œæœ€æ–°çš„ä»£ç 
        __webpack_require__(moduleId);
    } catch (err) {
        // ...å®¹é”™å¤„ç†
    }
}
</code></pre>
<p><code>hotApply</code>çš„ç¡®æ¯”è¾ƒå¤æ‚ï¼ŒçŸ¥é“å¤§æ¦‚æµç¨‹å°±å¥½äº†ï¼Œè¿™ä¸€å°èŠ‚ï¼Œè¦æ±‚ä½ å¯¹webpackæ‰“åŒ…åçš„æ–‡ä»¶å¦‚ä½•æ‰§è¡Œçš„æœ‰ä¸€äº›äº†è§£ï¼Œå¤§å®¶å¯ä»¥è‡ªå»çœ‹ä¸‹ã€‚</p>
<h2 id="å››ã€æ€»ç»“"><a href="#å››ã€æ€»ç»“" class="headerlink" title="å››ã€æ€»ç»“"></a>å››ã€æ€»ç»“</h2><p>è¿˜æ˜¯ä»¥é˜…è¯»æºç çš„å½¢å¼ç”»çš„å›¾ï¼Œâ‘ -â‘£çš„å°æ ‡è®°ï¼Œæ˜¯æ–‡ä»¶å‘ç”Ÿå˜åŒ–çš„ä¸€ä¸ªæµç¨‹ã€‚</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/12/1/16ec13499800dfce?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="xuehuayu.cn"></p>
<h2 id="å†™åœ¨æœ€å"><a href="#å†™åœ¨æœ€å" class="headerlink" title="å†™åœ¨æœ€å"></a>å†™åœ¨æœ€å</h2><p>æœ¬æ¬¡æ˜¯ä»¥é˜…è¯»æºç çš„æ–¹å¼è®²è§£åŸç†ï¼Œæ˜¯å› ä¸ºè§‰å¾—çƒ­æ›´æ–°è¿™å—æ¶‰åŠçš„çŸ¥è¯†é‡æ¯”è¾ƒå¤šã€‚æ‰€ä»¥çŸ¥è¯†æŠŠå…³é”®æ€§ä»£ç æ‹¿å‡ºæ¥ï¼Œå› ä¸ºæ¯ä¸€ä¸ªå—ç»†èŠ‚è¯´èµ·æ¥éƒ½èƒ½å†™ä¸€ç¯‡æ–‡ç« äº†ï¼Œå¤§å®¶å¯ä»¥è‡ªå·±å¯¹ç€æºç å†ç†è§£ä¸‹ã€‚</p>
<p>è¿˜æ˜¯å»ºè®®æå‰äº†è§£ä»¥ä¸‹çŸ¥è¯†ä¼šæ›´å¥½ç†è§£çƒ­æ›´æ–°ï¼š</p>
<ul>
<li></li>
</ul>
<p><strong>websocket</strong>ï¼š<a target="_blank" rel="noopener" href="https://www.ruanyifeng.com/blog/2017/05/websocket.html">websocketåŸºç¡€çŸ¥è¯†äº†è§£</a></p>
<ul>
<li>æ‰“åŒ…åçš„<code>bundle</code>æ–‡ä»¶å¦‚ä½•è¿è¡Œçš„ã€‚</li>
<li><code>webpack</code>å¯åŠ¨æµç¨‹ï¼Œ<code>webpack</code>ç”Ÿå‘½å‘¨æœŸã€‚</li>
<li><strong>tapable</strong>:</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://juejin.im/post/5dc169b0f265da4d542092c6">Webpackæ’ä»¶æœºåˆ¶ä¹‹Tapable-æºç è§£æ</a></p>
<h2 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h2><ul>
<li>[Webpack Hot Module Replacement</li>
</ul>
<p>çš„åŸç†è§£æ](<a target="_blank" rel="noopener" href="https://github.com/Jocs/jocs.github.io/issues/15">https://github.com/Jocs/jocs.github.io/issues/15</a>)</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://juejin.im/post/5d8b755fe51d45781332e919">çœ‹å®Œè¿™ç¯‡ï¼Œé¢è¯•å†ä¹Ÿä¸æ€•è¢«é—® Webpack çƒ­æ›´æ–°</a></li>
</ul>
<p>å‚è€ƒçš„æ–‡ç« å¤§å®¶ä¹Ÿå¯ä»¥çœ‹ä¸‹ï¼Œä½†æ˜¯ç”±äºæºç ç‰ˆæœ¬ä¸åŒï¼Œæ‰€ä»¥ä¸è¦å¤ªçº ç»“ä¸ç»†èŠ‚ã€‚</p>
<p>åŸåˆ›ä¸æ˜“ï¼Œèµ°è¿‡è·¯è¿‡ç‚¹ä¸ªèµå§~ğŸ˜Š</p>
</div><div class="related-posts-section"><h3 class="related-posts-title">ğŸ“š ç›¸å…³æ–‡ç« </h3><div class="related-posts-list"><a class="related-post-item" href="/article/47fe76f0.html"><div class="related-post-title">webpackæ‰“åŒ…ä¹‹åjsæ–‡ä»¶å¼•ç”¨é¡ºåºé”™ä¹±ï¼Œvendoré¡ºåºé”™è¯¯</div><div class="related-post-meta"><time>2019-12-12</time><div class="related-post-categories"><span class="category-badge">å‰ç«¯</span><span class="category-badge">FrontEnd</span></div></div></a><a class="related-post-item" href="/article/9044e6d5.html"><div class="related-post-title">ä¸å®¹é”™è¿‡çš„ Babel7 çŸ¥è¯†</div><div class="related-post-meta"><time>2019-12-05</time><div class="related-post-categories"><span class="category-badge">å‰ç«¯</span><span class="category-badge">FrontEnd</span></div></div></a><a class="related-post-item" href="/article/fc812490.html"><div class="related-post-title">å­—èŠ‚è·³åŠ¨é¢è¯•å®˜ï¼šè¯·ä½ å®ç°ä¸€ä¸ªå¤§æ–‡ä»¶ä¸Šä¼ å’Œæ–­ç‚¹ç»­ä¼ </div><div class="related-post-meta"><time>2020-01-17</time><div class="related-post-categories"><span class="category-badge">å‰ç«¯</span><span class="category-badge">FrontEnd</span></div></div></a><a class="related-post-item" href="/article/bd507099.html"><div class="related-post-title">æ‚¨å¯èƒ½ä¸éœ€è¦ Lodash / Underscore</div><div class="related-post-meta"><time>2020-08-05</time><div class="related-post-categories"><span class="category-badge">å‰ç«¯</span><span class="category-badge">FrontEnd</span></div></div></a><a class="related-post-item" href="/article/b7fe6c32.html"><div class="related-post-title">VPNçš„MUXæ˜¯ä»€ä¹ˆï¼Ÿ</div><div class="related-post-meta"><time>2025-10-07</time><div class="related-post-categories"><span class="category-badge">å‰ç«¯</span><span class="category-badge">FrontEnd</span></div></div></a></div></div><iframe src="/donate/?AliPayQR=/img/AliPayQR.png&amp;WeChatQR=/img/WeChatQR.png&amp;UnionPayQR=null&amp;GitHub=null&amp;BTCQR=null&amp;BTCKEY=null&amp;PayPal=https://paypal.me/BigOldTwo&amp;afd=https://ifdian.net/order/create?user_id=1f326f88329e11eeb16752540025c377" style="overflow-x:hidden; overflow-y:hidden; border:0xp none #fff; min-height:240px; width:100%;" frameborder="0" scrolling="no"></iframe><div><ul class="post-copyright"><li class="post-copyright-author"><strong>æœ¬æ–‡ä½œè€…ï¼š</strong>æ¬ç –å¤§è€</li><li class="post-copyright-link"><strong>æœ¬æ–‡é“¾æ¥ï¼š</strong><a href="/article/c767da51.html">https://xuehuayu.cn/article/c767da51.html</a></li><li class="post-copyright-license"><strong>ç‰ˆæƒå£°æ˜ï¼š</strong>â‘  æ ‡ä¸ºåŸåˆ›çš„æ–‡ç« ä¸ºåšä¸»åŸåˆ›ï¼Œéµå¾ª CC 4.0 BY-SA ç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥ã€‚â‘¡ éƒ¨åˆ†æ–‡ç« å†…å®¹ç”± AI ç”Ÿæˆï¼Œå†…å®¹ä»…ä¾›å‚è€ƒï¼Œè¯·ä»”ç»†ç”„åˆ«ã€‚â‘¢ æ ‡ä¸ºè½¬è½½çš„æ–‡ç« æ¥è‡ªç½‘ç»œï¼Œå·²æ ‡æ˜å‡ºå¤„ï¼Œ<a href="mailto:boss@xuehuayu.cn">ä¾µåˆ </a>ã€‚</li></ul></div><br><div class="tags"></div><div class="post-nav"><a class="pre" href="/article/9044e6d5.html">ä¸å®¹é”™è¿‡çš„ Babel7 çŸ¥è¯†</a><a class="next" href="/article/f43dd4a8.html">ä½¿ç”¨ Hooks ä¼˜åŒ– React ç»„ä»¶</a></div><div id="waline-comment"></div><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@waline/client@v3/dist/waline.min.css"><script src="//cdn.jsdelivr.net/npm/@waline/client@v3/dist/waline.min.js"></script><script type="module">const { init } = await import('//cdn.jsdelivr.net/npm/@waline/client@v3/dist/waline.js');
const origin = window.location.origin
const serverURL = origin.includes('cainiaoblog') ? 'https://guest.cainiaoblog.cn' : 'https://guest.xuehuayu.cn'
const locale = {
  placeholder: 'è¯·æ­£ç¡®å¡«å†™æ˜µç§°å’Œé‚®ç®±ï¼Œæ–¹ä¾¿æ¥æ”¶å›å¤é€šçŸ¥~',
  sofa: 'æ²™å‘ç©ºç¼ºä¸­ï¼Œè¿˜ä¸å¿«æŠ¢~',
  admin: 'ç®¡ç†å‘˜'
};
init({
  el: '#waline-comment',
  serverURL: serverURL,
  locale,
  pageSize: '20',
  visitor: false == true, // é˜…è¯»é‡ç»Ÿè®¡
  requiredMeta: ['nick', 'mail'],
  pageview: true,
  reaction: true,
  emoji: [
    '//cdn.jsdelivr.net/npm/@waline/emojis@1.4.0/qq',
    '//cdn.jsdelivr.net/npm/@waline/emojis@1.4.0/bmoji',
    '//cdn.jsdelivr.net/npm/@waline/emojis@1.4.0/bilibili',
    '//cdn.jsdelivr.net/npm/@waline/emojis@1.4.0/weibo',
    '//cdn.jsdelivr.net/npm/@waline/emojis@1.4.0/tieba',
    '//cdn.jsdelivr.net/npm/@waline/emojis@1.4.0/tw-emoji',
    '//cdn.jsdelivr.net/npm/@waline/emojis@1.4.0/alus',
    '//cdn.jsdelivr.net/npm/@waline/emojis@1.4.0/soul-emoji'
  ],
})</script></div></div></div><div class="pure-u-1 pure-u-md-1-4 fixed-search hidden_mid_and_down"><div id="sidebar"><script type="text/javascript" src="/js/search.js"></script><div class="widget widget-all-search"><div class="widget-search"><input class="search" type="radio" name="search" value="baidu" id="baidu" checked="checked"/><label class="label" for="baidu" title="ç™¾åº¦å…¨ç«™æœç´¢">ç™¾åº¦</label><input class="search" type="radio" name="search" value="google" id="google"/><label class="label" for="google" title="è°·æ­Œå…¨ç«™æœç´¢">è°·æ­Œ</label><input class="search" type="radio" name="search" value="self" id="self"/><label class="label" for="self" title="ä½¿ç”¨ç«™å†…æœç´¢">ç«™å†…</label></div><div class="widget" id="search"><form class="search-form" action="//www.baidu.com/baidu" method="get" accept-charset="utf-8" target="_blank"><input type="search" name="word" maxlength="30" placeholder="ç™¾åº¦å…¨ç«™æœç´¢"/><input type="hidden" name="si" value="xuehuayu.cn"/><input type="hidden" name="cl" value="3"/><input type="hidden" name="ct" value="2097152"/><input type="hidden" name="s" value="on"/><input class="search-submit" type="submit" value=""/></form></div></div><script>$('input[type=radio][name=search]').change(function() {
  var val = $(this).val()
  var self = '<div class="search-form"><input id="local-search-input" placeholder="ç«™å†…æœç´¢ï¼Œé¦–æ¬¡æ…¢" type="search" name="q" results="0"><input class="search-submit" type="submit" value=""/><div id="local-search-result"></div></div>'
  var google = '<form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="search" name="q" maxlength="30" placeholder="è°·æ­Œå…¨ç«™æœç´¢"><input type="hidden" name="sitesearch" value="xuehuayu.cn"><input class="search-submit" type="submit" value=""/></form>'
  var baidu = '<form class="search-form" action="//www.baidu.com/baidu" method="get" accept-charset="utf-8" target="_blank"><input type="search" name="word" maxlength="30" placeholder="ç™¾åº¦å…¨ç«™æœç´¢"><input type="hidden" name="si" value="xuehuayu.cn"><input type="hidden" name="cl" value="3"><input type="hidden" name="ct" value="2097152"><input type="hidden" name="s" value="on"><input class="search-submit" type="submit" value=""/></form>'

  if (val === 'self') {
      $('#search').html(self)
      var search_path = 'search.xml';
      if (search_path.length == 0) {
        search_path = '//search.xml';
      }
      var path = '/' + search_path;
      searchFunc(path, 'local-search-input', 'local-search-result');
  } else if (val === 'baidu') {
      $('#search').html(baidu)
  } else if (val === 'google') {
      $('#search').html(google)
  }
})</script><div class="widget widget-wxmp"><img alt="å¾®ä¿¡å…¬ä¼—å·" width="100%" src="/img/mp-mini.png"/></div><div class="widget widget-recent-posts"><div class="widget-title"><i class="fa fa-file-o"> æœ€è¿‘æ–‡ç« </i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/article/90947add.html">åˆæ‹äº‘æ³¨é”€è´¦å·é€€æ¬¾ç»“æœ</a></li><li class="post-list-item"><a class="post-list-link" href="/article/40a96678.html">åˆæ‹äº‘æ³¨é”€è´¦å·é€€æ¬¾ï¼šä¸€åœºæœ¬ä¸è¯¥å¦‚æ­¤â€œæ¶å¿ƒâ€çš„ç”¨æˆ·å‘Šåˆ«</a></li><li class="post-list-item"><a class="post-list-link" href="/article/87ba5860.html">æœ¬ç«™å·²å…¨é¢æ¥å…¥è…¾è®¯edgeone</a></li><li class="post-list-item"><a class="post-list-link" href="/article/68c9c2c2.html">ä½¿ç”¨ Vercel + Upstash Redis æ­å»ºè‡ªå·±çš„åŠ é€Ÿç¼“å­˜æœåŠ¡</a></li><li class="post-list-item"><a class="post-list-link" href="/article/46124b4e.html">è´¦å·è¢«å°äº†ï¼Ÿè¢«æ‹…å¿ƒï¼Œä¸æ˜¯ï¼æ˜¯Cloudflareå´©äº†ï¼</a></li></ul></div><div class="widget widget-recent-comments"><div class="widget-title"><i class="fa fa-comment-o"> æœ€è¿‘è¯„è®º</i></div><div class="waline-recent" id="waline-recent"></div></div><script type="module">const { RecentComments } = await import('//cdn.jsdelivr.net/npm/@waline/client@v3/dist/waline.js');
const origin = window.location.origin
const serverURL = origin.includes('cainiaoblog') ? 'https://guest.cainiaoblog.cn' : 'https://guest.xuehuayu.cn'

RecentComments({
  el: '#waline-recent',
  serverURL,
  count: 5,
}).then(({ comments }) => {
  const commentList = comments?.data.map(
    (comment) => {
      const cmts = ((comment||{}).comment || '').replace(/<\/?.*?>/g, '').replace(/\n/g, ' ')
      const time = ((comment||{}).insertedAt || '').substring(0, 10)
      const link = (comment||{}).link
      const info = link ? `<a class="flex-block align-center" href="${link}"><img class="comment-avatar" width="30" src="${comment.avatar}" alt="${comment.nick}"/><span class="comment-nick">${comment.nick}</span></a>` : `<img class="comment-avatar" width="30" src="${comment.avatar}" alt="${comment.nick}"/><span class="comment-nick">${comment.nick}</span>`
      const url = (comment||{}).url + '#' + (comment||{}).objectId
      return `<li class="comment-list-item"><div class="comment-top flex-block justify-between align-center"><div class="comment-info flex-block align-center">${info}</div><span>${time}</span></div><div class="comment-content"><a class="post-list-link line-3" href="${url}">${cmts}</a></div></li>`
    }
  );
  document.getElementById('waline-recent').innerHTML = `<url class="comment-list">${commentList.join('')}</ul>`
});</script><div class="widget widget-categories"><div class="widget-title"><i class="fa fa-folder-o"> åˆ†ç±»</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/ADBlock/">ADBlock</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Blog/">Blog</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/CDN/">CDN</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/CDN/%E7%BD%91%E7%AB%99/">ç½‘ç«™</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/FrontEnd/">FrontEnd</a><span class="category-list-count">277</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Games/">Games</a><span class="category-list-count">5</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Games/World-of-Warcraft/">World of Warcraft</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Git/">Git</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Histiry/">Histiry</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Hls/">Hls</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/KKPlayer/">KKPlayer</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/LiveTV/">LiveTV</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/M3U8/">M3U8</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Movies/">Movies</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Player/">Player</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/React/">React</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/TV/">TV</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Vue3/">Vue3</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Webpack/">Webpack</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/World-of-Warcraft/">World of Warcraft</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/debugger/">debugger</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E4%B8%AA%E7%A8%8E/">ä¸ªç¨</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%84%BF%E7%AB%A5/">å„¿ç«¥</a><span class="category-list-count">8</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%84%BF%E7%AB%A5/%E5%81%A5%E5%BA%B7/">å¥åº·</a><span class="category-list-count">8</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%84%BF%E7%AB%A5/%E5%81%A5%E5%BA%B7/Children/">Children</a><span class="category-list-count">8</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%84%BF%E7%AB%A5/%E5%81%A5%E5%BA%B7/Children/Health/">Health</a><span class="category-list-count">8</span></li></ul></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%85%AC%E4%BC%97%E5%8F%B7/">å…¬ä¼—å·</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%89%8D%E7%AB%AF/">å‰ç«¯</a><span class="category-list-count">293</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%89%8D%E7%AB%AF/FrontEnd/">FrontEnd</a><span class="category-list-count">15</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%89%8D%E7%AB%AF/FrontEnd/Chrome/">Chrome</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%89%8D%E7%AB%AF/FrontEnd/Class/">Class</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%89%8D%E7%AB%AF/FrontEnd/Git/">Git</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%89%8D%E7%AB%AF/FrontEnd/Map/">Map</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%89%8D%E7%AB%AF/FrontEnd/TypeScript/">TypeScript</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%89%8D%E7%AB%AF/FrontEnd/Vue3/">Vue3</a><span class="category-list-count">4</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%89%8D%E7%AB%AF/Frontend/">Frontend</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%89%8D%E7%AB%AF/Frontend/PDF/">PDF</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%89%8D%E7%AB%AF/Frontend/PDF/Image/">Image</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%89%8D%E7%AB%AF/Frontend/PDF/Image/%E8%AF%B7%E6%B1%82%E5%A4%B4/">è¯·æ±‚å¤´</a><span class="category-list-count">1</span></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%89%8D%E7%AB%AF/Frontend/Redis/">Redis</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%89%8D%E7%AB%AF/Frontend/Redis/Vercel/">Vercel</a><span class="category-list-count">1</span></li></ul></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%8D%9A%E5%AE%A2/">åšå®¢</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%8E%86%E5%8F%B2/">å†å²</a><span class="category-list-count">6</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%8E%86%E5%8F%B2/Histiry/">Histiry</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%8F%88%E6%8B%8D%E4%BA%91/">åˆæ‹äº‘</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%B7%A5%E5%85%B7/">å·¥å…·</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%B9%BF%E5%91%8A%E8%BF%87%E6%BB%A4/">å¹¿å‘Šè¿‡æ»¤</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BD%B1%E8%A7%86/">å½±è§†</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%92%AD%E6%94%BE%E5%99%A8/">æ’­æ”¾å™¨</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%96%B0%E5%8D%8E%E5%AD%97%E5%85%B8/">æ–°åå­—å…¸</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%96%B0%E5%8D%8E%E5%AD%97%E5%85%B8/%E5%8E%86%E5%8F%B2/">å†å²</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%96%B0%E5%8D%8E%E5%AD%97%E5%85%B8/%E5%8E%86%E5%8F%B2/%E6%96%87%E5%8C%96/">æ–‡åŒ–</a><span class="category-list-count">1</span></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%B8%B8%E6%88%8F/">æ¸¸æˆ</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%94%9F%E6%B4%BB/">ç”Ÿæ´»</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%94%9F%E6%B4%BB/%E6%89%8B%E6%9C%BA/">æ‰‹æœº</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%94%B5%E5%BD%B1/">ç”µå½±</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%9B%B4%E6%92%AD/">ç›´æ’­</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%A5%9E%E8%AF%9D/">ç¥è¯</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%B3%BB%E7%BB%9F/">ç³»ç»Ÿ</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%B3%BB%E7%BB%9F/System/">System</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%B3%BB%E7%BB%9F/System/Windows/">Windows</a><span class="category-list-count">1</span></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BD%91%E7%9B%98/">ç½‘ç›˜</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%8A%82%E7%82%B9/">èŠ‚ç‚¹</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%A3%85%E4%BF%AE/">è£…ä¿®</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%AD%94%E5%85%BD%E4%B8%96%E7%95%8C/">é­”å…½ä¸–ç•Œ</a><span class="category-list-count">2</span></li></ul></div><div class="widget widget-links"><div class="widget-title"><i class="fa fa-external-link"> å‹é“¾</i></div><ul><li><a href="https://ghfast.top/https://raw.githubusercontent.com/npljy/haoka/main/imgs/qrcode.jpg" title="è¿è¥å•†å®˜æ–¹å¤§æµé‡æ‰‹æœºå¡" target="_blank">è¿è¥å•†å®˜æ–¹å¤§æµé‡æ‰‹æœºå¡</a></li><li><a href="https://m3u8.xuehuayu.cn?utm_source=xuehuayu.cn&amp;utm_term=KKPlayer" title="M3U8åŠ é€Ÿæ’­æ”¾å™¨" target="_blank">M3U8åŠ é€Ÿæ’­æ”¾å™¨</a></li><li><a href="https://chrome.xuehuayu.cn?utm_source=xuehuayu.cn&amp;utm_term=KKPlayer" title="Chromeå‘½ä»¤è¡Œå‚æ•°ç”Ÿæˆå™¨" target="_blank">Chromeå‘½ä»¤è¡Œå‚æ•°ç”Ÿæˆå™¨</a></li><li><a href="https://laonongmin.online?utm_source=xuehuayu.cn&amp;utm_term=KKPlayer" title="KK Player" target="_blank">KK Player</a></li></ul></div><div class="widget widget-ip"><div class="widget-title"></div><img alt="info" width="100%" src="https://tool.lu/netcard/" onclick="window.open(&quot;https://laonongmin.online&quot;)"/></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer"><div class="flex-block justify-center align-center flex-wrap"><a class="gxba-link" id="gxba" rel="nofollow" target="_blank" href="http://beian.miit.gov.cn/">äº¬ICPå¤‡20007647å·-2</a><a class="gaba-link" id="gaba-link" rel="nofollow" target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=11010802031264"><img class="nofancybox" src="/img/gaba.png" alt=""/><span id="gaba">äº¬å…¬ç½‘å®‰å¤‡ 11010802031264å·</span><span style="padding-right: 10px;"></span></a><span>Copyright Â© 2025 </span><a href="/." rel="nofollow">å‰ç«¯å£¹èœé¸Ÿ. </a><script>(function(){
  var cnb =window.location.origin.includes('cainiaoblog')
  if (cnb) {
    var gxba =document.getElementById('gxba')
    var gaba =document.getElementById('gaba')
    var gabaLink =document.getElementById('gaba-link')
    gxba.innerText ='äº¬ICPå¤‡20007647å·-1'
    gaba.innerText ='äº¬å…¬ç½‘å®‰å¤‡ 11010802031254å·'
    gabaLink.setAttribute('href','http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=11010802031254')
  }
})()</script></div><div><a class="flex-block justify-center align-center flex-wrap" rel="nofollow" title="51laç½‘ç«™ç»Ÿè®¡" target="_blank" href="https://v6.51.la/s/Guz3lwHCsVme9Cu"><script id="LA-DATA-WIDGET" crossorigin="anonymous" charset="UTF-8" src="https://v6-widget.51.la/v6/JkUaixMjOhC8emNs/quote.js?theme=0&amp;f=12&amp;display=0,1,1,1,1,1,1,1"></script></a></div></div></div></div><a class="show" id="rocket" title="è¿”å›é¡¶éƒ¨" href="#top"></a><div class="darkmode-toggle" title="å¼€ç¯/å…³ç¯">ğŸŒ“</div><script type="text/javascript" src="/js/totop.js?v=9" async></script><script type="text/javascript" src="/js/dark.js?v=9" async></script><script type="text/javascript" src="/js/codeblock-resizer.js"></script><script type="text/javascript" src="/js/smartresize.js"></script></div></body><div class="footer-links"><i class="fa fa-external-link"> å‹é“¾</i><span>ï¼š</span><span class="link"><span class="gap gap-0">|</span><a href="https://ghfast.top/https://raw.githubusercontent.com/npljy/haoka/main/imgs/qrcode.jpg" title="è¿è¥å•†å®˜æ–¹å¤§æµé‡æ‰‹æœºå¡" target="_blank">è¿è¥å•†å®˜æ–¹å¤§æµé‡æ‰‹æœºå¡</a></span><span class="link"><span class="gap gap-1">|</span><a href="https://m3u8.xuehuayu.cn?utm_source=xuehuayu.cn&amp;utm_term=KKPlayer" title="M3U8åŠ é€Ÿæ’­æ”¾å™¨" target="_blank">M3U8åŠ é€Ÿæ’­æ”¾å™¨</a></span><span class="link"><span class="gap gap-2">|</span><a href="https://chrome.xuehuayu.cn?utm_source=xuehuayu.cn&amp;utm_term=KKPlayer" title="Chromeå‘½ä»¤è¡Œå‚æ•°ç”Ÿæˆå™¨" target="_blank">Chromeå‘½ä»¤è¡Œå‚æ•°ç”Ÿæˆå™¨</a></span><span class="link"><span class="gap gap-3">|</span><a href="https://laonongmin.online?utm_source=xuehuayu.cn&amp;utm_term=KKPlayer" title="KK Player" target="_blank">KK Player</a></span></div></html>